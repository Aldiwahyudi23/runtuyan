import{r as P,C as D,i as m,D as V,c as K,o as r,w as _,b as l,a as t,u as o,m as j,d,e as g,h as B,f as N}from"./app-CuZBNslr.js";import{_ as U}from"./AppLayout-B-RZNAje.js";import{_ as O}from"./InputError-WtovvBYe.js";import{_ as f}from"./InputLabel-BTmkmvp5.js";import{_ as H}from"./PrimaryButton-CisQVaOx.js";import{_ as L}from"./SecondaryButton-mcfqU9p3.js";import{_ as c}from"./SelectInput-D7HIyVTj.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"py-6"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},S={class:"p-6 bg-white border-b border-gray-200"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},E={class:"space-y-4"},R={key:0},q={class:"space-y-4"},z={key:0},G={class:"flex justify-end mt-6 space-x-4"},I={key:0},J={key:1},Q={key:0,class:"mt-8 space-y-6"},le={__name:"Check",props:{people:Array,initialData:Object,results:Object,errors:Object},setup(u){var h,x;const i=u,p=P(!1),a=D({person1_id:((h=i.initialData.person1)==null?void 0:h.id)||null,person2_id:((x=i.initialData.person2)==null?void 0:x.id)||null,parent1_id:i.initialData.parent1_id||null,parent2_id:i.initialData.parent2_id||null}),v=m(()=>{var s;return((s=i.people)==null?void 0:s.map(e=>({value:e.id,label:`${e.name} (${e.gender==="male"?"L":"P"})`})))||[]}),k=m(()=>v.value.filter(s=>s.value!==a.person1_id)),y=m(()=>{var s;return((s=i.initialData.parents1)==null?void 0:s.map(e=>({value:e.id,label:`${e.name} (${e.gender==="male"?"L":"P"})`})))||[]}),$=m(()=>{var s;return((s=i.initialData.parents2)==null?void 0:s.map(e=>({value:e.id,label:`${e.name} (${e.gender==="male"?"L":"P"})`})))||[]}),b=s=>{s===1?a.parent1_id=null:a.parent2_id=null},w=()=>{a.reset()},C=()=>{p.value=!0,a.post(route("relationship.check"),{preserveScroll:!0,onFinish:()=>{p.value=!1}})};return V(()=>a.person1_id,s=>{s||(a.parent1_id=null)}),V(()=>a.person2_id,s=>{s||(a.parent2_id=null)}),(s,e)=>(r(),K(U,null,{header:_(()=>e[6]||(e[6]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Cek Hubungan Keluarga ",-1)])),default:_(()=>[l(o(j),{title:"Cek Hubungan Keluarga"}),t("div",T,[t("div",F,[t("div",M,[t("div",S,[t("form",{onSubmit:B(C,["prevent"])},[t("div",A,[t("div",E,[e[7]||(e[7]=t("h3",{class:"text-lg font-medium"},"Orang Pertama",-1)),t("div",null,[l(f,{for:"person1_id",value:"Pilih Orang Pertama"}),l(c,{id:"person1_id",modelValue:o(a).person1_id,"onUpdate:modelValue":e[0]||(e[0]=n=>o(a).person1_id=n),class:"w-full",options:v.value,placeholder:"Cari nama...",onChange:e[1]||(e[1]=n=>b(1))},null,8,["modelValue","options"]),l(O,{message:u.errors.person1_id},null,8,["message"])]),o(a).person1_id?(r(),d("div",R,[l(f,{for:"parent1_id",value:"Orang Tua Orang Pertama (opsional)"}),l(c,{id:"parent1_id",modelValue:o(a).parent1_id,"onUpdate:modelValue":e[2]||(e[2]=n=>o(a).parent1_id=n),class:"w-full",options:y.value,placeholder:"Pilih orang tua"},null,8,["modelValue","options"])])):g("",!0)]),t("div",q,[e[8]||(e[8]=t("h3",{class:"text-lg font-medium"},"Orang Kedua",-1)),t("div",null,[l(f,{for:"person2_id",value:"Pilih Orang Kedua"}),l(c,{id:"person2_id",modelValue:o(a).person2_id,"onUpdate:modelValue":e[3]||(e[3]=n=>o(a).person2_id=n),class:"w-full",options:k.value,placeholder:"Cari nama...",onChange:e[4]||(e[4]=n=>b(2))},null,8,["modelValue","options"]),l(O,{message:u.errors.person2_id},null,8,["message"])]),o(a).person2_id?(r(),d("div",z,[l(f,{for:"parent2_id",value:"Orang Tua Orang Kedua (opsional)"}),l(c,{id:"parent2_id",modelValue:o(a).parent2_id,"onUpdate:modelValue":e[5]||(e[5]=n=>o(a).parent2_id=n),class:"w-full",options:$.value,placeholder:"Pilih orang tua"},null,8,["modelValue","options"])])):g("",!0)])]),t("div",G,[l(L,{onClick:w},{default:_(()=>e[9]||(e[9]=[N(" Reset ")])),_:1}),l(H,{type:"submit",disabled:p.value},{default:_(()=>[p.value?(r(),d("span",I,"Memproses...")):(r(),d("span",J,"Cek Hubungan"))]),_:1},8,["disabled"])])],32),u.results?(r(),d("div",Q," ... ")):g("",!0)])])])])]),_:1}))}};export{le as default};
