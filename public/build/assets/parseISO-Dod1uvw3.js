import{t as d,n as N,c as h,b as T,d as Y}from"./normalizeDates-U9LyEZsq.js";function g(n,e){const t=+d(n)-+d(e);return t<0?-1:t>0?1:t}function C(n,e,t){const[r,a]=N(t==null?void 0:t.in,n,e);return r.getFullYear()-a.getFullYear()}function v(n,e,t){const[r,a]=N(t==null?void 0:t.in,n,e),i=g(r,a),l=Math.abs(C(r,a));r.setFullYear(1584),a.setFullYear(1584);const c=g(r,a)===-i,u=i*(l-+c);return u===0?0:u}function b(n,e){const t=()=>h(e==null?void 0:e.in,NaN),a=x(n);let i;if(a.date){const s=w(a.date,2);i=z(s.restDateString,s.year)}if(!i||isNaN(+i))return t();const l=+i;let c=0,u;if(a.time&&(c=y(a.time),isNaN(c)))return t();if(a.timezone){if(u=M(a.timezone),isNaN(u))return t()}else{const s=new Date(l+c),m=d(0,e==null?void 0:e.in);return m.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),m.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),m}return d(l+c+u,e==null?void 0:e.in)}const o={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},I=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,p=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,F=/^([+-])(\d{2})(?::?(\d{2}))?$/;function x(n){const e={},t=n.split(o.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],o.timeZoneDelimiter.test(e.date)&&(e.date=n.split(o.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const a=o.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function w(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?a:i*100,restDateString:n.slice((r[1]||r[2]).length)}}function z(n,e){if(e===null)return new Date(NaN);const t=n.match(I);if(!t)return new Date(NaN);const r=!!t[4],a=f(t[1]),i=f(t[2])-1,l=f(t[3]),c=f(t[4]),u=f(t[5])-1;if(r)return R(e,c,u)?O(e,c,u):new Date(NaN);{const s=new Date(0);return!_(e,i,l)||!k(e,a)?new Date(NaN):(s.setUTCFullYear(e,i,Math.max(a,l)),s)}}function f(n){return n?parseInt(n):1}function y(n){const e=n.match(p);if(!e)return NaN;const t=D(e[1]),r=D(e[2]),a=D(e[3]);return S(t,r,a)?t*T+r*Y+a*1e3:NaN}function D(n){return n&&parseFloat(n.replace(",","."))||0}function M(n){if(n==="Z")return 0;const e=n.match(F);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return W(r,a)?t*(r*T+a*Y):NaN}function O(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const a=r.getUTCDay()||7,i=(e-1)*7+t+1-a;return r.setUTCDate(r.getUTCDate()+i),r}const Z=[31,null,31,30,31,30,31,31,30,31,30,31];function U(n){return n%400===0||n%4===0&&n%100!==0}function _(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(Z[e]||(U(n)?29:28))}function k(n,e){return e>=1&&e<=(U(n)?366:365)}function R(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function S(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function W(n,e){return e>=0&&e<=59}export{v as d,b as p};
