import{i as x,d as a,o as n,b as d,w as f,a as e,n as w,t as o,u as g,P as p,e as m,F as h,g as b,c as D,m as B,f as c}from"./app-BPPBF4h9.js";import{_ as I}from"./AppLayout-CJjUiriA.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as M,d as P,c as j}from"./ageCalculator-B2gtlMSA.js";import{f as F}from"./format-CkpID6nj.js";const N={class:"member-info"},O={class:"member-name"},C={class:"member-details"},L={__name:"FamilyTreeNode",props:{person:Object,isMain:{type:Boolean,default:!1}},setup(t){const i=t,u=x(()=>i.person.name.split(" ").map(y=>y[0]).join("").toUpperCase()),l=x(()=>i.person.gender==="male"?"Laki-laki":"Perempuan"),s=x(()=>{if(!i.person.birth_date)return"Usia tidak diketahui";const v=M(i.person.birth_date),y=i.person.death_date?M(i.person.death_date):new Date,T=P(y,v);return i.person.death_date?`${T} tahun (meninggal)`:`${T} tahun`}),r=x(()=>({"bg-blue-100 text-blue-800":i.person.gender==="male","bg-pink-100 text-pink-800":i.person.gender==="female","border-2 border-yellow-400":i.isMain}));return(v,y)=>(n(),a("div",{class:w(["family-member",{"main-member":t.isMain}])},[d(g(p),{href:v.route("people.show",t.person.id),class:"member-card"},{default:f(()=>[e("div",{class:w(["member-avatar",r.value])},o(u.value),3),e("div",N,[e("div",O,o(t.person.name),1),e("div",C,o(s.value)+" â€¢ "+o(l.value),1)])]),_:1},8,["href"])],2))}},k=$(L,[["__scopeId","data-v-24cd8dbe"]]),S={class:"family-tree"},V={key:0,class:"tree-container"},K={key:0,class:"parents-level"},U={class:"parents-container"},_={class:"main-person"},A={key:1,class:"spouses-level"},E={class:"spouses-container"},H={key:2,class:"children-level"},z={class:"children-container"},J={__name:"FamilyTree",props:{person:Object},setup(t){return(i,u)=>(n(),a("div",S,[t.person?(n(),a("div",V,[t.person.parents&&t.person.parents.length>0?(n(),a("div",K,[e("div",U,[(n(!0),a(h,null,b(t.person.parents,l=>(n(),a("div",{key:l.id,class:"parent-node"},[d(k,{person:l},null,8,["person"])]))),128))]),u[0]||(u[0]=e("div",{class:"connector-line"},null,-1))])):m("",!0),e("div",_,[d(k,{person:t.person,isMain:!0},null,8,["person"])]),t.person.spouses&&t.person.spouses.length>0?(n(),a("div",A,[e("div",E,[(n(!0),a(h,null,b(t.person.spouses,l=>(n(),a("div",{key:l.id,class:"spouse-node"},[u[1]||(u[1]=e("div",{class:"connector-line"},null,-1)),d(k,{person:l},null,8,["person"])]))),128))])])):m("",!0),t.person.children&&t.person.children.length>0?(n(),a("div",H,[u[2]||(u[2]=e("div",{class:"connector-line"},null,-1)),e("div",z,[(n(!0),a(h,null,b(t.person.children,l=>(n(),a("div",{key:l.id,class:"child-node"},[d(k,{person:l},null,8,["person"])]))),128))])])):m("",!0)])):m("",!0)]))}},R=$(J,[["__scopeId","data-v-1d9a255a"]]),Y={class:"font-semibold text-xl text-gray-800 leading-tight"},q={class:"py-6"},G={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Q={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},W={class:"p-6 bg-white border-b border-gray-200"},X={class:"flex justify-between items-start mb-6"},Z={class:"flex space-x-2"},ee={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},se={class:"mb-4"},te={class:"mt-2 space-y-2"},ne={key:0},ae={class:"mt-2 text-gray-700"},le={class:"mb-6"},re={class:"mt-4 space-y-4"},oe={key:0},ie={class:"mt-2 space-y-1"},de={key:1},ue={class:"mt-2 space-y-1"},me={key:0,class:"text-sm text-gray-500 ml-2"},ce={key:2},fe={class:"mt-2 space-y-1"},ge={key:3},pe={class:"mt-8"},he={class:"mt-4 p-4 border rounded bg-gray-50"},be={__name:"Show",props:{person:Object,familyTree:Object},setup(t){const i=(l,s)=>{const r=j(l,s);return r===null?"Tidak diketahui":`${r} tahun`+(s?" (meninggal)":"")},u=l=>l?F(new Date(l),"dd MMMM yyyy"):null;return(l,s)=>(n(),D(I,null,{header:f(()=>[e("h2",Y,o(t.person.name),1)]),default:f(()=>[d(g(B),{title:"Detail "+t.person.name},null,8,["title"]),e("div",q,[e("div",G,[e("div",Q,[e("div",W,[e("div",X,[s[2]||(s[2]=e("div",null,[e("h3",{class:"text-lg font-medium"},"Informasi Pribadi"),e("p",{class:"text-sm text-gray-500"},"Detail anggota keluarga")],-1)),e("div",Z,[d(g(p),{href:l.route("people.edit",t.person.id),class:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500"},{default:f(()=>s[0]||(s[0]=[c(" Edit ")])),_:1},8,["href"]),d(g(p),{href:l.route("relationships.create",{person_id:t.person.id}),class:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},{default:f(()=>s[1]||(s[1]=[c(" Tambah Relasi ")])),_:1},8,["href"])])]),e("div",ee,[e("div",null,[e("div",se,[s[8]||(s[8]=e("h4",{class:"font-medium text-gray-900"},"Informasi Dasar",-1)),e("div",te,[e("p",null,[s[3]||(s[3]=e("span",{class:"font-medium"},"Jenis Kelamin:",-1)),c(" "+o(t.person.gender==="male"?"Laki-laki":"Perempuan"),1)]),e("p",null,[s[4]||(s[4]=e("span",{class:"font-medium"},"Tanggal Lahir:",-1)),c(" "+o(u(t.person.birth_date)||"Tidak diketahui"),1)]),e("p",null,[s[5]||(s[5]=e("span",{class:"font-medium"},"Usia:",-1)),c(" "+o(i(t.person.birth_date,t.person.death_date)),1)]),t.person.death_date?(n(),a("p",ne,[s[6]||(s[6]=e("span",{class:"font-medium"},"Tanggal Meninggal:",-1)),c(" "+o(u(t.person.death_date)),1)])):m("",!0),e("p",null,[s[7]||(s[7]=e("span",{class:"font-medium"},"Status:",-1)),e("span",{class:w(t.person.death_date?"text-red-600":"text-green-600")},o(t.person.death_date?"Meninggal":"Masih Hidup"),3)])])]),e("div",null,[s[9]||(s[9]=e("h4",{class:"font-medium text-gray-900"},"Biografi",-1)),e("p",ae,o(t.person.bio||"Tidak ada biografi tersedia."),1)])]),e("div",null,[e("div",le,[s[17]||(s[17]=e("h4",{class:"font-medium text-gray-900"},"Hubungan Keluarga",-1)),e("div",re,[t.person.parents.length>0?(n(),a("div",oe,[s[11]||(s[11]=e("h5",{class:"font-medium"},"Orang Tua",-1)),e("ul",ie,[(n(!0),a(h,null,b(t.person.parents,r=>(n(),a("li",{key:r.id,class:"flex items-center"},[d(g(p),{href:l.route("people.show",r.id),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:f(()=>[s[10]||(s[10]=e("span",{class:"inline-block w-2 h-2 rounded-full bg-blue-600 mr-2"},null,-1)),c(" "+o(r.name),1)]),_:2},1032,["href"])]))),128))])])):m("",!0),t.person.spouses.length>0?(n(),a("div",de,[s[13]||(s[13]=e("h5",{class:"font-medium"},"Pasangan",-1)),e("ul",ue,[(n(!0),a(h,null,b(t.person.spouses,r=>(n(),a("li",{key:r.id,class:"flex items-center"},[d(g(p),{href:l.route("people.show",r.id),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:f(()=>[s[12]||(s[12]=e("span",{class:"inline-block w-2 h-2 rounded-full bg-blue-600 mr-2"},null,-1)),c(" "+o(r.name),1)]),_:2},1032,["href"]),r.pivot.marriage_id?(n(),a("span",me," (Menikah) ")):m("",!0)]))),128))])])):m("",!0),t.person.children.length>0?(n(),a("div",ce,[s[15]||(s[15]=e("h5",{class:"font-medium"},"Anak-anak",-1)),e("ul",fe,[(n(!0),a(h,null,b(t.person.children,r=>(n(),a("li",{key:r.id,class:"flex items-center"},[d(g(p),{href:l.route("people.show",r.id),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:f(()=>[s[14]||(s[14]=e("span",{class:"inline-block w-2 h-2 rounded-full bg-blue-600 mr-2"},null,-1)),c(" "+o(r.name),1)]),_:2},1032,["href"])]))),128))])])):m("",!0),t.person.parents.length===0&&t.person.spouses.length===0&&t.person.children.length===0?(n(),a("div",ge,s[16]||(s[16]=[e("p",{class:"text-gray-500"},"Belum ada hubungan keluarga yang ditambahkan.",-1)]))):m("",!0)])])])]),e("div",pe,[s[18]||(s[18]=e("h4",{class:"font-medium text-gray-900"},"Pohon Keluarga",-1)),e("div",he,[d(R,{person:t.person},null,8,["person"])])])])])])])]),_:1}))}},$e=$(be,[["__scopeId","data-v-698c51db"]]);export{$e as default};
