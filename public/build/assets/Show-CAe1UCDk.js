import{i as y,d as a,o as n,b as d,w as f,a as e,n as w,t as o,u as g,P as p,e as m,F as h,g as b,c as D,m as B,f as c}from"./app-B0FoKZDT.js";import{_ as I}from"./AppLayout-CosHIqze.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as M,d as P,c as _}from"./ageCalculator-B2gtlMSA.js";import{f as j}from"./format-CkpID6nj.js";const F={class:"member-info"},N={class:"member-name"},O={class:"member-details"},C={__name:"FamilyTreeNode",props:{person:Object,isMain:{type:Boolean,default:!1}},setup(t){const i=t,u=y(()=>i.person.name.split(" ").map(x=>x[0]).join("").toUpperCase()),l=y(()=>i.person.gender==="male"?"Laki-laki":"Perempuan"),s=y(()=>{if(!i.person.birth_date)return"";const v=M(i.person.birth_date),x=i.person.death_date?M(i.person.death_date):new Date,T=P(x,v);return i.person.death_date?`${T} tahun (meninggal)`:`${T} tahun`}),r=y(()=>({"bg-blue-100 text-blue-800":i.person.gender==="male","bg-pink-100 text-pink-800":i.person.gender==="female","border-2 border-yellow-400":i.isMain}));return(v,x)=>(n(),a("div",{class:w(["family-member",{"main-member":t.isMain}])},[d(g(p),{href:v.route("people.show",t.person.id),class:"member-card"},{default:f(()=>[e("div",{class:w(["member-avatar",r.value])},o(u.value),3),e("div",F,[e("div",N,o(t.person.name),1),e("div",O,o(s.value)+" â€¢ "+o(l.value),1)])]),_:1},8,["href"])],2))}},k=$(C,[["__scopeId","data-v-2fb3007a"]]),L={class:"family-tree"},S={key:0,class:"tree-container"},V={key:0,class:"parents-level"},K={class:"parents-container"},A={class:"main-person"},E={key:1,class:"spouses-level"},H={class:"spouses-container"},U={key:2,class:"children-level"},z={class:"children-wrapper"},J={class:"children-container"},R={__name:"FamilyTree",props:{person:Object},setup(t){return(i,u)=>(n(),a("div",L,[t.person?(n(),a("div",S,[t.person.parents&&t.person.parents.length>0?(n(),a("div",V,[e("div",K,[(n(!0),a(h,null,b(t.person.parents,l=>(n(),a("div",{key:l.id,class:"parent-node"},[d(k,{person:l},null,8,["person"])]))),128))]),u[0]||(u[0]=e("div",{class:"connector-line"},null,-1))])):m("",!0),e("div",A,[d(k,{person:t.person,isMain:!0},null,8,["person"])]),t.person.spouses&&t.person.spouses.length>0?(n(),a("div",E,[e("div",H,[(n(!0),a(h,null,b(t.person.spouses,l=>(n(),a("div",{key:l.id,class:"spouse-node"},[u[1]||(u[1]=e("div",{class:"connector-line"},null,-1)),d(k,{person:l},null,8,["person"])]))),128))])])):m("",!0),t.person.children&&t.person.children.length>0?(n(),a("div",U,[u[2]||(u[2]=e("div",{class:"connector-line"},null,-1)),e("div",z,[e("div",J,[(n(!0),a(h,null,b(t.person.children,l=>(n(),a("div",{key:l.id,class:"child-node"},[d(k,{person:l},null,8,["person"])]))),128))])])])):m("",!0)])):m("",!0)]))}},Y=$(R,[["__scopeId","data-v-5d7c41f9"]]),q={class:"font-semibold text-xl text-gray-800 leading-tight"},G={class:"py-6"},Q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},W={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},X={class:"p-6 bg-white border-b border-gray-200"},Z={class:"flex justify-between items-start mb-6"},ee={class:"flex space-x-2"},se={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},te={class:"mb-4"},ne={class:"mt-2 space-y-2"},ae={key:0},le={class:"mt-2 text-gray-700"},re={class:"mb-6"},oe={class:"mt-4 space-y-4"},ie={key:0},de={class:"mt-2 space-y-1"},ue={key:1},me={class:"mt-2 space-y-1"},ce={key:0,class:"text-sm text-gray-500 ml-2"},fe={key:2},ge={class:"mt-2 space-y-1"},pe={key:3},he={class:"mt-8"},be={class:"mt-4 p-4 border rounded bg-gray-50 overflow-x-auto"},ve={class:"min-w-max"},xe={__name:"Show",props:{person:Object,familyTree:Object},setup(t){const i=(l,s)=>{const r=_(l,s);return r===null?"Tidak diketahui":`${r} tahun`+(s?" (meninggal)":"")},u=l=>l?j(new Date(l),"dd MMMM yyyy"):null;return(l,s)=>(n(),D(I,null,{header:f(()=>[e("h2",q,o(t.person.name),1)]),default:f(()=>[d(g(B),{title:"Detail "+t.person.name},null,8,["title"]),e("div",G,[e("div",Q,[e("div",W,[e("div",X,[e("div",Z,[s[2]||(s[2]=e("div",null,[e("h3",{class:"text-lg font-medium"},"Informasi Pribadi"),e("p",{class:"text-sm text-gray-500"},"Detail anggota keluarga")],-1)),e("div",ee,[d(g(p),{href:l.route("people.edit",t.person.id),class:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500"},{default:f(()=>s[0]||(s[0]=[c(" Edit ")])),_:1},8,["href"]),d(g(p),{href:l.route("relationships.create",{person_id:t.person.id}),class:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},{default:f(()=>s[1]||(s[1]=[c(" Tambah Relasi ")])),_:1},8,["href"])])]),e("div",se,[e("div",null,[e("div",te,[s[8]||(s[8]=e("h4",{class:"font-medium text-gray-900"},"Informasi Dasar",-1)),e("div",ne,[e("p",null,[s[3]||(s[3]=e("span",{class:"font-medium"},"Jenis Kelamin:",-1)),c(" "+o(t.person.gender==="male"?"Laki-laki":"Perempuan"),1)]),e("p",null,[s[4]||(s[4]=e("span",{class:"font-medium"},"Tanggal Lahir:",-1)),c(" "+o(u(t.person.birth_date)||"Tidak diketahui"),1)]),e("p",null,[s[5]||(s[5]=e("span",{class:"font-medium"},"Usia:",-1)),c(" "+o(i(t.person.birth_date,t.person.death_date)),1)]),t.person.death_date?(n(),a("p",ae,[s[6]||(s[6]=e("span",{class:"font-medium"},"Tanggal Meninggal:",-1)),c(" "+o(u(t.person.death_date)),1)])):m("",!0),e("p",null,[s[7]||(s[7]=e("span",{class:"font-medium"},"Status:",-1)),e("span",{class:w(t.person.death_date?"text-red-600":"text-green-600")},o(t.person.death_date?"Meninggal":"Masih Hidup"),3)])])]),e("div",null,[s[9]||(s[9]=e("h4",{class:"font-medium text-gray-900"},"Biografi",-1)),e("p",le,o(t.person.bio||"Tidak ada biografi tersedia."),1)])]),e("div",null,[e("div",re,[s[17]||(s[17]=e("h4",{class:"font-medium text-gray-900"},"Hubungan Keluarga",-1)),e("div",oe,[t.person.parents.length>0?(n(),a("div",ie,[s[11]||(s[11]=e("h5",{class:"font-medium"},"Orang Tua",-1)),e("ul",de,[(n(!0),a(h,null,b(t.person.parents,r=>(n(),a("li",{key:r.id,class:"flex items-center"},[d(g(p),{href:l.route("people.show",r.id),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:f(()=>[s[10]||(s[10]=e("span",{class:"inline-block w-2 h-2 rounded-full bg-blue-600 mr-2"},null,-1)),c(" "+o(r.name),1)]),_:2},1032,["href"])]))),128))])])):m("",!0),t.person.spouses.length>0?(n(),a("div",ue,[s[13]||(s[13]=e("h5",{class:"font-medium"},"Pasangan",-1)),e("ul",me,[(n(!0),a(h,null,b(t.person.spouses,r=>(n(),a("li",{key:r.id,class:"flex items-center"},[d(g(p),{href:l.route("people.show",r.id),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:f(()=>[s[12]||(s[12]=e("span",{class:"inline-block w-2 h-2 rounded-full bg-blue-600 mr-2"},null,-1)),c(" "+o(r.name),1)]),_:2},1032,["href"]),r.pivot.marriage_id?(n(),a("span",ce," (Menikah) ")):m("",!0)]))),128))])])):m("",!0),t.person.children.length>0?(n(),a("div",fe,[s[15]||(s[15]=e("h5",{class:"font-medium"},"Anak-anak",-1)),e("ul",ge,[(n(!0),a(h,null,b(t.person.children,r=>(n(),a("li",{key:r.id,class:"flex items-center"},[d(g(p),{href:l.route("people.show",r.id),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:f(()=>[s[14]||(s[14]=e("span",{class:"inline-block w-2 h-2 rounded-full bg-blue-600 mr-2"},null,-1)),c(" "+o(r.name),1)]),_:2},1032,["href"])]))),128))])])):m("",!0),t.person.parents.length===0&&t.person.spouses.length===0&&t.person.children.length===0?(n(),a("div",pe,s[16]||(s[16]=[e("p",{class:"text-gray-500"},"Belum ada hubungan keluarga yang ditambahkan.",-1)]))):m("",!0)])])])]),e("div",he,[s[18]||(s[18]=e("h4",{class:"font-medium text-gray-900"},"Pohon Keluarga",-1)),e("div",be,[e("div",ve,[d(Y,{person:t.person},null,8,["person"])])])])])])])])]),_:1}))}},Me=$(xe,[["__scopeId","data-v-c6a75ce5"]]);export{Me as default};
