import{r as b,c as K,o as l,w as p,b as f,a as e,u as d,m as N,d as n,e as y,P as h,f as v,j as m,q as U,y as w,t as r,F as I,g as L,W as x}from"./app-CuZBNslr.js";import{l as E}from"./lodash-BemvjMHu.js";import{_ as F}from"./AppLayout-B-RZNAje.js";import{c as H}from"./ageCalculator-hRHYIkVQ.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{f as z}from"./format-dyE9oF1d.js";import"./parseISO-Dod1uvw3.js";import"./normalizeDates-U9LyEZsq.js";const G={class:"py-6"},J={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},O={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},W={class:"p-6 bg-white border-b border-gray-200"},q={class:"flex justify-between items-center mb-6"},R={class:"mb-6 bg-gray-50 p-4 rounded-lg"},Q={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},X={class:"md:col-span-2"},Y={class:"relative"},Z={class:"flex justify-between items-center mb-4"},ee={class:"flex items-center space-x-2"},te={key:0,class:"text-sm text-gray-700"},se={class:"overflow-x-auto"},oe={class:"min-w-full divide-y divide-gray-200"},ae={class:"bg-white divide-y divide-gray-200"},le={key:0},re={class:"px-6 py-4 whitespace-nowrap"},ne={class:"px-6 py-4 whitespace-nowrap"},ie={class:"px-6 py-4 whitespace-nowrap"},de={class:"px-6 py-4 whitespace-nowrap"},ue={class:"px-6 py-4 whitespace-nowrap"},pe={key:0,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800"},ge={key:1,class:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800"},ce={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},fe=["onClick","disabled"],me={key:0},xe={key:1},be={key:0,class:"mt-4 flex items-center justify-between"},ye={class:"text-sm text-gray-700"},he={class:"flex space-x-2"},ve=["disabled"],we=["disabled"],_e={__name:"Index",props:{people:Object,filters:Object},setup(A){var k,S,M,C;const o=A,g=b(null),c=b(((k=o.filters)==null?void 0:k.per_page)||10),i=b({global:((S=o.filters)==null?void 0:S.global)||"",gender:((M=o.filters)==null?void 0:M.gender)||"",status:((C=o.filters)==null?void 0:C.status)||""}),D=a=>a?z(new Date(a),"dd MMMM yyyy"):null,u=()=>{x.get(route("people.index"),{...i.value,per_page:c.value},{preserveState:!0,replace:!0})},_=E.debounce(u,500),j=()=>{i.value={global:"",gender:"",status:""},c.value=10,u()},P=()=>{u()},T=()=>{o.people.next_page_url&&x.get(o.people.next_page_url,{},{preserveState:!0,preserveScroll:!0})},V=()=>{o.people.prev_page_url&&x.get(o.people.prev_page_url,{},{preserveState:!0,preserveScroll:!0})},B=a=>{confirm(`Apakah Anda yakin ingin menghapus ${a.name}?`)&&(g.value=a.id,x.delete(route("people.destroy",a.id),{preserveScroll:!0,onFinish:()=>{g.value=null}}))};return(a,t)=>(l(),K(F,null,{header:p(()=>t[5]||(t[5]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Data Anggota Keluarga ",-1)])),default:p(()=>[f(d(N),{title:"Anggota Keluarga"}),e("div",G,[e("div",J,[e("div",O,[e("div",W,[e("div",q,[t[7]||(t[7]=e("h3",{class:"text-lg font-medium"},"Daftar Anggota Keluarga",-1)),f(d(h),{href:a.route("people.create"),class:"inline-flex items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-blue-700 focus:bg-blue-700 active:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:p(()=>t[6]||(t[6]=[v(" Tambah Anggota Baru ")])),_:1},8,["href"])]),e("div",R,[e("div",Q,[e("div",X,[t[9]||(t[9]=e("label",{for:"globalSearch",class:"block text-sm font-medium text-gray-700 mb-1"},"Cari Data",-1)),e("div",Y,[t[8]||(t[8]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),m(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>i.value.global=s),type:"text",id:"globalSearch",placeholder:"Cari nama, jenis kelamin, dll...",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",onInput:t[1]||(t[1]=(...s)=>d(_)&&d(_)(...s))},null,544),[[U,i.value.global]])])]),e("div",null,[t[11]||(t[11]=e("label",{for:"searchGender",class:"block text-sm font-medium text-gray-700 mb-1"},"Jenis Kelamin",-1)),m(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.value.gender=s),id:"searchGender",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",onChange:u},t[10]||(t[10]=[e("option",{value:""},"Semua",-1),e("option",{value:"male"},"Laki-laki",-1),e("option",{value:"female"},"Perempuan",-1)]),544),[[w,i.value.gender]])]),e("div",null,[t[13]||(t[13]=e("label",{for:"searchStatus",class:"block text-sm font-medium text-gray-700 mb-1"},"Status",-1)),m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>i.value.status=s),id:"searchStatus",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",onChange:u},t[12]||(t[12]=[e("option",{value:""},"Semua",-1),e("option",{value:"alive"},"Masih Hidup",-1),e("option",{value:"deceased"},"Meninggal",-1)]),544),[[w,i.value.status]])]),e("div",{class:"flex items-end"},[e("button",{onClick:j,class:"w-full px-4 py-2 bg-gray-200 border border-transparent rounded-md font-medium text-xs text-gray-700 uppercase tracking-widest hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Reset ")])])]),e("div",Z,[e("div",ee,[t[15]||(t[15]=e("span",{class:"text-sm text-gray-700"},"Tampilkan",-1)),m(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>c.value=s),onChange:P,class:"px-5 py-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm"},t[14]||(t[14]=[e("option",{value:"10"},"10",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1),e("option",{value:"100"},"100",-1)]),544),[[w,c.value]])]),o.people.data.length>0?(l(),n("div",te," Menampilkan "+r(o.people.from)+" - "+r(o.people.to)+" dari "+r(o.people.total)+" entri ",1)):y("",!0)]),e("div",se,[e("table",oe,[t[18]||(t[18]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nama"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Jenis Kelamin"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Tanggal Lahir"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Usia"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Aksi")])],-1)),e("tbody",ae,[o.people.data.length===0?(l(),n("tr",le,t[16]||(t[16]=[e("td",{colspan:"6",class:"px-6 py-4 text-center text-gray-500"}," Tidak ada data yang ditemukan ",-1)]))):y("",!0),(l(!0),n(I,null,L(o.people.data,s=>(l(),n("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",re,[f(d(h),{href:a.route("people.show",s.id),class:"text-blue-600 hover:text-blue-800 font-medium"},{default:p(()=>[v(r(s.name),1)]),_:2},1032,["href"])]),e("td",ne,r(s.gender==="male"?"Laki-laki":"Perempuan"),1),e("td",ie,r(s.birth_date?D(s.birth_date):"Tidak diketahui"),1),e("td",de,r(d(H)(s.birth_date,s.death_date)??"Tidak diketahui")+" tahun ",1),e("td",ue,[s.death_date?(l(),n("span",pe," Meninggal ")):(l(),n("span",ge," Masih Hidup "))]),e("td",ce,[f(d(h),{href:a.route("people.edit",s.id),class:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:p(()=>t[17]||(t[17]=[v(" Edit ")])),_:2},1032,["href"]),e("button",{onClick:ke=>B(s),disabled:g.value===s.id,class:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-75 disabled:cursor-not-allowed"},[g.value===s.id?(l(),n("span",me,"Menghapus...")):(l(),n("span",xe,"Hapus"))],8,fe)])]))),128))])])]),o.people.data.length>0?(l(),n("div",be,[e("div",ye," Menampilkan "+r(o.people.from)+" - "+r(o.people.to)+" dari "+r(o.people.total)+" entri ",1),e("div",he,[e("button",{onClick:V,disabled:!o.people.prev_page_url,class:"px-3 py-1 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"}," Sebelumnya ",8,ve),e("button",{onClick:T,disabled:!o.people.next_page_url,class:"px-3 py-1 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"}," Selanjutnya ",8,we)])])):y("",!0)])])])])]),_:1}))}},Ve=$(_e,[["__scopeId","data-v-4ae60591"]]);export{Ve as default};
