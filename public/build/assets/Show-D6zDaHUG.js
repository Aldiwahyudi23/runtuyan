import{i as y,d as a,o as n,b as d,w as f,a as e,n as w,t as o,f as m,u as p,P as h,e as c,F as v,g as b,c as _,m as D}from"./app-BUhXKvy-.js";import{_ as B}from"./AppLayout-Bds4WRr8.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as M,d as I,c as P}from"./ageCalculator-B2gtlMSA.js";import{f as j}from"./format-CkpID6nj.js";const F={class:"member-info"},N={class:"member-name"},O={class:"member-details"},C={__name:"FamilyTreeNode",props:{person:Object,isMain:{type:Boolean,default:!1}},setup(t){const i=t,u=y(()=>i.person.name.split(" ").map(g=>g[0]).join("").toUpperCase()),l=y(()=>i.person.gender==="male"?"Laki-laki":"Perempuan"),s=y(()=>{if(!i.person.birth_date)return"-";const x=M(i.person.birth_date),g=i.person.death_date?M(i.person.death_date):new Date,T=I(g,x);return i.person.death_date?`${T} tahun (Alm)`:`${T} tahun`}),r=y(()=>({"bg-blue-100 text-blue-800":i.person.gender==="male","bg-pink-100 text-pink-800":i.person.gender==="female","border-2 border-yellow-400":i.isMain}));return(x,g)=>(n(),a("div",{class:w(["family-member",{"main-member":t.isMain}])},[d(p(h),{href:x.route("people.show",t.person.id),class:"member-card"},{default:f(()=>[e("div",{class:w(["member-avatar",r.value])},o(u.value),3),e("div",F,[e("div",N,o(t.person.name),1),e("div",O,[m(o(l.value)+" ",1),g[0]||(g[0]=e("br",null,null,-1)),m(" "+o(s.value),1)])])]),_:1},8,["href"])],2))}},k=$(C,[["__scopeId","data-v-9edcf2f5"]]),L={class:"family-tree"},S={key:0,class:"tree-container"},V={key:0,class:"parents-level"},A={class:"parents-wrapper"},K={class:"parents-container"},z={class:"main-row"},E={class:"main-person"},H={key:0,class:"spouses-level"},U={class:"spouses-wrapper"},J={class:"spouses-container"},R={key:1,class:"children-level"},Y={class:"children-wrapper"},q={class:"children-container"},G={__name:"FamilyTree",props:{person:Object},setup(t){return(i,u)=>(n(),a("div",L,[t.person?(n(),a("div",S,[t.person.parents&&t.person.parents.length>0?(n(),a("div",V,[e("div",A,[e("div",K,[(n(!0),a(v,null,b(t.person.parents,l=>(n(),a("div",{key:l.id,class:"parent-node"},[d(k,{person:l},null,8,["person"])]))),128))])]),u[0]||(u[0]=e("div",{class:"connector-line vertical"},null,-1))])):c("",!0),e("div",z,[e("div",E,[d(k,{person:t.person,isMain:!0},null,8,["person"])]),t.person.spouses&&t.person.spouses.length>0?(n(),a("div",H,[e("div",U,[e("div",J,[(n(!0),a(v,null,b(t.person.spouses,l=>(n(),a("div",{key:l.id,class:"spouse-node"},[u[1]||(u[1]=e("div",{class:"connector-line horizontal"},null,-1)),d(k,{person:l},null,8,["person"])]))),128))])])])):c("",!0)]),t.person.children&&t.person.children.length>0?(n(),a("div",R,[u[2]||(u[2]=e("div",{class:"connector-line vertical"},null,-1)),e("div",Y,[e("div",q,[(n(!0),a(v,null,b(t.person.children,l=>(n(),a("div",{key:l.id,class:"child-node"},[d(k,{person:l},null,8,["person"])]))),128))])])])):c("",!0)])):c("",!0)]))}},Q=$(G,[["__scopeId","data-v-cf761f9c"]]),W={class:"font-semibold text-xl text-gray-800 leading-tight"},X={class:"py-6"},Z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ee={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},se={class:"p-6 bg-white border-b border-gray-200"},te={class:"flex justify-between items-start mb-6"},ne={class:"flex space-x-2"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},le={class:"mb-4"},re={class:"mt-2 space-y-2"},oe={key:0},ie={class:"mt-2 text-gray-700"},de={class:"mb-6"},ue={class:"mt-4 space-y-4"},me={key:0},ce={class:"mt-2 space-y-1"},fe={key:1},pe={class:"mt-2 space-y-1"},ge={key:0,class:"text-sm text-gray-500 ml-2"},he={key:2},ve={class:"mt-2 space-y-1"},be={key:3},xe={class:"mt-8"},ye={class:"mt-4 p-4 border rounded bg-gray-50 overflow-x-auto"},ke={class:"min-w-max"},we={__name:"Show",props:{person:Object,familyTree:Object},setup(t){const i=(l,s)=>{const r=P(l,s);return r===null?"Tidak diketahui":`${r} tahun`+(s?" (meninggal)":"")},u=l=>l?j(new Date(l),"dd MMMM yyyy"):null;return(l,s)=>(n(),_(B,null,{header:f(()=>[e("h2",W,o(t.person.name),1)]),default:f(()=>[d(p(D),{title:"Detail "+t.person.name},null,8,["title"]),e("div",X,[e("div",Z,[e("div",ee,[e("div",se,[e("div",te,[s[2]||(s[2]=e("div",null,[e("h3",{class:"text-lg font-medium"},"Informasi Pribadi"),e("p",{class:"text-sm text-gray-500"},"Detail anggota keluarga")],-1)),e("div",ne,[d(p(h),{href:l.route("people.edit",t.person.id),class:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500"},{default:f(()=>s[0]||(s[0]=[m(" Edit ")])),_:1},8,["href"]),d(p(h),{href:l.route("relationships.create",{person_id:t.person.id}),class:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},{default:f(()=>s[1]||(s[1]=[m(" Tambah Relasi ")])),_:1},8,["href"])])]),e("div",ae,[e("div",null,[e("div",le,[s[8]||(s[8]=e("h4",{class:"font-medium text-gray-900"},"Informasi Dasar",-1)),e("div",re,[e("p",null,[s[3]||(s[3]=e("span",{class:"font-medium"},"Jenis Kelamin : ",-1)),m(" "+o(t.person.gender==="male"?"Laki-laki":"Perempuan"),1)]),e("p",null,[s[4]||(s[4]=e("span",{class:"font-medium"},"Tanggal Lahir : ",-1)),m(" "+o(u(t.person.birth_date)||"Tidak diketahui"),1)]),e("p",null,[s[5]||(s[5]=e("span",{class:"font-medium"},"Usia :",-1)),m(" "+o(i(t.person.birth_date,t.person.death_date)),1)]),t.person.death_date?(n(),a("p",oe,[s[6]||(s[6]=e("span",{class:"font-medium"},"Tanggal Meninggal : ",-1)),m(" "+o(u(t.person.death_date)),1)])):c("",!0),e("p",null,[s[7]||(s[7]=e("span",{class:"font-medium"},"Status :",-1)),e("span",{class:w(t.person.death_date?"text-red-600":"text-green-600")},o(t.person.death_date?" Meninggal":" Masih Hidup"),3)])])]),e("div",null,[s[9]||(s[9]=e("h4",{class:"font-medium text-gray-900"},"Biografi",-1)),e("p",ie,o(t.person.bio||"Tidak ada biografi tersedia."),1)])]),e("div",null,[e("div",de,[s[17]||(s[17]=e("h4",{class:"font-medium text-gray-900"},"Hubungan Keluarga",-1)),e("div",ue,[t.person.parents.length>0?(n(),a("div",me,[s[11]||(s[11]=e("h5",{class:"font-medium"},"Orang Tua",-1)),e("ul",ce,[(n(!0),a(v,null,b(t.person.parents,r=>(n(),a("li",{key:r.id,class:"flex items-center"},[d(p(h),{href:l.route("people.show",r.id),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:f(()=>[s[10]||(s[10]=e("span",{class:"inline-block w-2 h-2 rounded-full bg-blue-600 mr-2"},null,-1)),m(" "+o(r.name),1)]),_:2},1032,["href"])]))),128))])])):c("",!0),t.person.spouses.length>0?(n(),a("div",fe,[s[13]||(s[13]=e("h5",{class:"font-medium"},"Pasangan",-1)),e("ul",pe,[(n(!0),a(v,null,b(t.person.spouses,r=>(n(),a("li",{key:r.id,class:"flex items-center"},[d(p(h),{href:l.route("people.show",r.id),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:f(()=>[s[12]||(s[12]=e("span",{class:"inline-block w-2 h-2 rounded-full bg-blue-600 mr-2"},null,-1)),m(" "+o(r.name),1)]),_:2},1032,["href"]),r.pivot.marriage_id?(n(),a("span",ge," (Menikah) ")):c("",!0)]))),128))])])):c("",!0),t.person.children.length>0?(n(),a("div",he,[s[15]||(s[15]=e("h5",{class:"font-medium"},"Anak-anak",-1)),e("ul",ve,[(n(!0),a(v,null,b(t.person.children,r=>(n(),a("li",{key:r.id,class:"flex items-center"},[d(p(h),{href:l.route("people.show",r.id),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:f(()=>[s[14]||(s[14]=e("span",{class:"inline-block w-2 h-2 rounded-full bg-blue-600 mr-2"},null,-1)),m(" "+o(r.name),1)]),_:2},1032,["href"])]))),128))])])):c("",!0),t.person.parents.length===0&&t.person.spouses.length===0&&t.person.children.length===0?(n(),a("div",be,s[16]||(s[16]=[e("p",{class:"text-gray-500"},"Belum ada hubungan keluarga yang ditambahkan.",-1)]))):c("",!0)])])])]),e("div",xe,[s[18]||(s[18]=e("h4",{class:"font-medium text-gray-900"},"Pohon Keluarga",-1)),e("div",ye,[e("div",ke,[d(Q,{person:t.person},null,8,["person"])])])])])])])])]),_:1}))}},Be=$(we,[["__scopeId","data-v-50dd2c73"]]);export{Be as default};
