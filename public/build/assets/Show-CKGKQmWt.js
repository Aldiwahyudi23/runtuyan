import{i as y,d as a,o as n,b as d,w as f,a as e,n as w,t as o,f as m,u as p,P as h,e as c,F as b,g as v,c as M,m as D}from"./app-vyhtbc6X.js";import{_ as B}from"./AppLayout-Dw9pqsRG.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as _,d as I,c as P}from"./ageCalculator-B2gtlMSA.js";import{f as j}from"./format-CkpID6nj.js";const F={class:"member-info-container"},N={class:"member-info-content"},O={class:"member-name"},C={class:"member-details"},L={__name:"FamilyTreeNode",props:{person:Object,isMain:{type:Boolean,default:!1}},setup(t){const i=t,u=y(()=>i.person.name.split(" ").map(g=>g[0]).join("").toUpperCase()),r=y(()=>i.person.gender==="male"?"Laki-laki":"Perempuan"),s=y(()=>{if(!i.person.birth_date)return"-";const x=_(i.person.birth_date),g=i.person.death_date?_(i.person.death_date):new Date,T=I(g,x);return i.person.death_date?`${T} tahun (Alm)`:`${T} tahun`}),l=y(()=>({"bg-blue-100 text-blue-800":i.person.gender==="male","bg-pink-100 text-pink-800":i.person.gender==="female","border-2 border-yellow-400":i.isMain}));return(x,g)=>(n(),a("div",{class:w(["family-member",{"main-member":t.isMain}])},[d(p(h),{href:x.route("people.show",t.person.id),class:"member-card"},{default:f(()=>[e("div",{class:w(["member-avatar",l.value])},o(u.value),3),e("div",F,[e("div",N,[e("div",O,o(t.person.name),1),e("div",C,[m(o(r.value)+" ",1),g[0]||(g[0]=e("br",null,null,-1)),m(" "+o(s.value),1)])])])]),_:1},8,["href"])],2))}},k=$(L,[["__scopeId","data-v-b4abe984"]]),S={class:"family-tree"},V={key:0,class:"tree-container"},A={key:0,class:"parents-level"},K={class:"parents-wrapper"},z={class:"parents-container"},E={class:"main-row"},H={class:"main-person"},U={key:0,class:"spouses-level"},J={class:"spouses-wrapper"},R={class:"spouses-container"},Y={key:1,class:"children-level"},q={class:"children-wrapper"},G={class:"children-container"},Q={__name:"FamilyTree",props:{person:Object},setup(t){return(i,u)=>(n(),a("div",S,[t.person?(n(),a("div",V,[t.person.parents&&t.person.parents.length>0?(n(),a("div",A,[e("div",K,[e("div",z,[(n(!0),a(b,null,v(t.person.parents,r=>(n(),a("div",{key:r.id,class:"parent-node"},[d(k,{person:r},null,8,["person"])]))),128))])]),u[0]||(u[0]=e("div",{class:"connector-line vertical"},null,-1))])):c("",!0),e("div",E,[e("div",H,[d(k,{person:t.person,isMain:!0},null,8,["person"])]),t.person.spouses&&t.person.spouses.length>0?(n(),a("div",U,[e("div",J,[e("div",R,[(n(!0),a(b,null,v(t.person.spouses,r=>(n(),a("div",{key:r.id,class:"spouse-node"},[u[1]||(u[1]=e("div",{class:"connector-line horizontal"},null,-1)),d(k,{person:r},null,8,["person"])]))),128))])])])):c("",!0)]),t.person.children&&t.person.children.length>0?(n(),a("div",Y,[u[2]||(u[2]=e("div",{class:"connector-line vertical"},null,-1)),e("div",q,[e("div",G,[(n(!0),a(b,null,v(t.person.children,r=>(n(),a("div",{key:r.id,class:"child-node"},[d(k,{person:r},null,8,["person"])]))),128))])])])):c("",!0)])):c("",!0)]))}},W=$(Q,[["__scopeId","data-v-0a1179dd"]]),X={class:"font-semibold text-xl text-gray-800 leading-tight"},Z={class:"py-6"},ee={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},se={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},te={class:"p-6 bg-white border-b border-gray-200"},ne={class:"flex justify-between items-start mb-6"},ae={class:"flex space-x-2"},re={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},le={class:"mb-4"},oe={class:"mt-2 space-y-2"},ie={key:0},de={class:"mt-2 text-gray-700"},ue={class:"mb-6"},me={class:"mt-4 space-y-4"},ce={key:0},fe={class:"mt-2 space-y-1"},pe={key:1},ge={class:"mt-2 space-y-1"},he={key:0,class:"text-sm text-gray-500 ml-2"},be={key:2},ve={class:"mt-2 space-y-1"},xe={key:3},ye={class:"mt-8"},ke={class:"mt-4 p-4 border rounded bg-gray-50 overflow-x-auto"},we={class:"min-w-max"},$e={__name:"Show",props:{person:Object,familyTree:Object},setup(t){const i=(r,s)=>{const l=P(r,s);return l===null?"Tidak diketahui":`${l} tahun`+(s?" (meninggal)":"")},u=r=>r?j(new Date(r),"dd MMMM yyyy"):null;return(r,s)=>(n(),M(B,null,{header:f(()=>[e("h2",X,o(t.person.name),1)]),default:f(()=>[d(p(D),{title:"Detail "+t.person.name},null,8,["title"]),e("div",Z,[e("div",ee,[e("div",se,[e("div",te,[e("div",ne,[s[2]||(s[2]=e("div",null,[e("h3",{class:"text-lg font-medium"},"Informasi Pribadi"),e("p",{class:"text-sm text-gray-500"},"Detail anggota keluarga")],-1)),e("div",ae,[d(p(h),{href:r.route("people.edit",t.person.id),class:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500"},{default:f(()=>s[0]||(s[0]=[m(" Edit ")])),_:1},8,["href"]),d(p(h),{href:r.route("relationships.create",{person_id:t.person.id}),class:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"},{default:f(()=>s[1]||(s[1]=[m(" Tambah Relasi ")])),_:1},8,["href"])])]),e("div",re,[e("div",null,[e("div",le,[s[8]||(s[8]=e("h4",{class:"font-medium text-gray-900"},"Informasi Dasar",-1)),e("div",oe,[e("p",null,[s[3]||(s[3]=e("span",{class:"font-medium"},"Jenis Kelamin : ",-1)),m(" "+o(t.person.gender==="male"?"Laki-laki":"Perempuan"),1)]),e("p",null,[s[4]||(s[4]=e("span",{class:"font-medium"},"Tanggal Lahir : ",-1)),m(" "+o(u(t.person.birth_date)||"Tidak diketahui"),1)]),e("p",null,[s[5]||(s[5]=e("span",{class:"font-medium"},"Usia :",-1)),m(" "+o(i(t.person.birth_date,t.person.death_date)),1)]),t.person.death_date?(n(),a("p",ie,[s[6]||(s[6]=e("span",{class:"font-medium"},"Tanggal Meninggal : ",-1)),m(" "+o(u(t.person.death_date)),1)])):c("",!0),e("p",null,[s[7]||(s[7]=e("span",{class:"font-medium"},"Status :",-1)),e("span",{class:w(t.person.death_date?"text-red-600":"text-green-600")},o(t.person.death_date?" Meninggal":" Masih Hidup"),3)])])]),e("div",null,[s[9]||(s[9]=e("h4",{class:"font-medium text-gray-900"},"Biografi",-1)),e("p",de,o(t.person.bio||"Tidak ada biografi tersedia."),1)])]),e("div",null,[e("div",ue,[s[17]||(s[17]=e("h4",{class:"font-medium text-gray-900"},"Hubungan Keluarga",-1)),e("div",me,[t.person.parents.length>0?(n(),a("div",ce,[s[11]||(s[11]=e("h5",{class:"font-medium"},"Orang Tua",-1)),e("ul",fe,[(n(!0),a(b,null,v(t.person.parents,l=>(n(),a("li",{key:l.id,class:"flex items-center"},[d(p(h),{href:r.route("people.show",l.id),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:f(()=>[s[10]||(s[10]=e("span",{class:"inline-block w-2 h-2 rounded-full bg-blue-600 mr-2"},null,-1)),m(" "+o(l.name),1)]),_:2},1032,["href"])]))),128))])])):c("",!0),t.person.spouses.length>0?(n(),a("div",pe,[s[13]||(s[13]=e("h5",{class:"font-medium"},"Pasangan",-1)),e("ul",ge,[(n(!0),a(b,null,v(t.person.spouses,l=>(n(),a("li",{key:l.id,class:"flex items-center"},[d(p(h),{href:r.route("people.show",l.id),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:f(()=>[s[12]||(s[12]=e("span",{class:"inline-block w-2 h-2 rounded-full bg-blue-600 mr-2"},null,-1)),m(" "+o(l.name),1)]),_:2},1032,["href"]),l.pivot.marriage_id?(n(),a("span",he," (Menikah) ")):c("",!0)]))),128))])])):c("",!0),t.person.children.length>0?(n(),a("div",be,[s[15]||(s[15]=e("h5",{class:"font-medium"},"Anak-anak",-1)),e("ul",ve,[(n(!0),a(b,null,v(t.person.children,l=>(n(),a("li",{key:l.id,class:"flex items-center"},[d(p(h),{href:r.route("people.show",l.id),class:"text-blue-600 hover:text-blue-800 flex items-center"},{default:f(()=>[s[14]||(s[14]=e("span",{class:"inline-block w-2 h-2 rounded-full bg-blue-600 mr-2"},null,-1)),m(" "+o(l.name),1)]),_:2},1032,["href"])]))),128))])])):c("",!0),t.person.parents.length===0&&t.person.spouses.length===0&&t.person.children.length===0?(n(),a("div",xe,s[16]||(s[16]=[e("p",{class:"text-gray-500"},"Belum ada hubungan keluarga yang ditambahkan.",-1)]))):c("",!0)])])])]),e("div",ye,[s[18]||(s[18]=e("h4",{class:"font-medium text-gray-900"},"Pohon Keluarga",-1)),e("div",ke,[e("div",we,[d(W,{person:t.person},null,8,["person"])])])])])])])])]),_:1}))}},Ie=$($e,[["__scopeId","data-v-50dd2c73"]]);export{Ie as default};
